import{a as G,b as J,c as q,d as Q,e as Z,f as tt,g as et,h as nt}from"./chunk-PX4BXADC.js";import{c as V,d as R,e as z,f as U,g as Y,j as K,k as $,p as X}from"./chunk-MAT2GV62.js";import{$a as u,A as y,Ab as c,Bb as j,Cb as p,Db as N,K as T,Ma as o,O as D,P as W,T as L,U as H,Wa as B,Xa as A,Z as v,da as E,ea as P,hb as m,j as M,jb as g,lb as i,m as S,mb as n,n as I,ob as O,q as w,r as k,rb as x,sb as s,vb as F,wb as e,y as b,yb as l,zb as _}from"./chunk-GAMBWRGE.js";var h=class a{http=v($);apiUrl=`${G.apiUrl}/wash-laundry/optimal-schedule`;httpOptions={headers:new K({Accept:"application/json","Content-Type":"application/json"})};getOptimalSchedule(){let d=this.apiUrl;return this.http.get(d,this.httpOptions).pipe(w(3e4),T({count:3,delay:(t,r)=>{let C=Math.min(1e3*Math.pow(2,r),1e4);return b(C)}}),y(t=>{console.error("[WashLaundryService] Error:",t.status,t.statusText);let r="Aikataulun lataaminen ep\xE4onnistui";return t.status===0?r="Verkkoyhteysvirhe - tarkista internetyhteys":t.status>=400&&t.status<500?r=`Palvelinvirhe (${t.status}) - yrit\xE4 my\xF6hemmin uudelleen`:t.status>=500&&(r="Palvelinvirhe - yrit\xE4 my\xF6hemmin uudelleen"),I(()=>({userMessage:r}))}))}static \u0275fac=function(t){return new(t||a)};static \u0275prov=L({token:a,factory:a.\u0275fac,providedIn:"root"})};function ot(a,d){a&1&&(i(0,"div",15)(1,"p"),e(2,"Ladataan optimaalisia pesuaikoja..."),n()())}function rt(a,d){if(a&1){let t=O();i(0,"div",16)(1,"p")(2,"strong"),e(3,"Virhe:"),n(),e(4),n(),i(5,"div",17)(6,"button",18),x("click",function(){E(t);let C=s(2);return P(C.getOptimalSchedule())}),e(7," Yrit\xE4 uudelleen "),n()()()}if(a&2){let t=s().ngIf;o(4),l(" ",t.error,"")}}function dt(a,d){if(a&1&&(i(0,"div")(1,"h3"),e(2,"\u{1F389} NYT on t\xE4ydellinen aika pest\xE4 pyykki\xE4! \u{1F9FA}\u2728"),n(),i(3,"div",25)(4,"p",26),e(5,"\u23F0 Olet nyt optimaalisessa aikaikkunassa!"),n(),i(6,"p",27),e(7,"Spot-hinta: "),i(8,"strong"),e(9),c(10,"number"),n(),e(11),n(),i(12,"p",28),e(13,"Pesun hinta: "),i(14,"strong"),e(15),c(16,"number"),n()(),i(17,"p",29),e(18,"\u{1F44D} K\xE4ynnist\xE4 pesukone nyt saadaksesi parhaan hinnan!"),n()()()),a&2){let t=s(3).ngIf,r=s();o(8),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),_("",r.getPriceEmoji(t.data.today.priceCategory)," ",p(10,10,t.data.today.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.today.priceCategory),")"),o(3),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),l("",p(16,13,t.data.today.estimatedTotalPriceCents,"1.2-2")," sentti\xE4")}}function st(a,d){if(a&1&&(i(0,"div")(1,"h3"),e(2),n(),i(3,"div",25)(4,"p",26),e(5,"\u23F0 T\xE4m\xE4 on paras saatavilla oleva aika, mutta s\xE4hk\xF6 on kalliimpaa"),n(),i(6,"p",27),e(7,"Spot-hinta: "),i(8,"strong"),e(9),c(10,"number"),n(),e(11),n(),i(12,"p",28),e(13,"Pesun hinta: "),i(14,"strong"),e(15),c(16,"number"),n()(),i(17,"p",29),e(18,"\u{1F914} Harkitse odottamaan halvempaa aikaa, jos mahdollista"),n()()()),a&2){let t=s(3).ngIf,r=s();o(),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),l("\u26A0\uFE0F Olet optimaalisessa aikaikkunassa. Hinta ei kuitenkaan ole erityisen halpa vaan l\xE4hinn\xE4 ~",r.getPriceCategoryText(t.data.today.priceCategory),""),o(6),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),_("",r.getPriceEmoji(t.data.today.priceCategory)," ",p(10,14,t.data.today.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.today.priceCategory),")"),o(3),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),l("",p(16,17,t.data.today.estimatedTotalPriceCents,"1.2-2")," sentti\xE4")}}function lt(a,d){if(a&1&&(i(0,"p",34)(1,"strong"),e(2,"\u{1F4B0} S\xE4\xE4st\xF6 vs. nyt: "),n(),i(3,"strong",35),e(4),c(5,"number"),n(),e(6," ("),i(7,"strong"),e(8),c(9,"number"),n(),e(10,") "),n()),a&2){let t=s(4).ngIf;o(4),l("",p(5,2,t.data.today.potentialSavingsCents,"1.2-2")," sentti\xE4"),o(4),l("",p(9,5,t.data.today.potentialSavingsPercentage,"1.1-1"),"%")}}function ct(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Erinomainen aika: "),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.today.priceCategory)," ")}}function pt(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Normaali aika: "),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.today.priceCategory)," ")}}function mt(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u26A0\uFE0F Paras saatavilla oleva:"),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.today.priceCategory),", harkitse odottamista ")}}function gt(a,d){if(a&1&&(i(0,"div")(1,"h3"),e(2,"\u{1F7E2} Paras aika pest\xE4 pyykki\xE4 on t\xE4n\xE4\xE4n"),n(),i(3,"div",30)(4,"p",31),e(5),c(6,"date"),c(7,"date"),n(),i(8,"p",27),e(9,"Spot-hinta: "),i(10,"strong"),e(11),c(12,"number"),n(),e(13),n(),i(14,"p",28),e(15,"Pesun hinta: "),i(16,"strong"),e(17),c(18,"number"),n()(),u(19,lt,11,8,"p",32)(20,ct,4,1,"p",33)(21,pt,4,1,"p",33)(22,mt,4,1,"p",33),n()()),a&2){let t=s(3).ngIf,r=s();o(5),_("",p(6,16,t.data.today.startTime,"HH:mm")," - ",p(7,19,t.data.today.endTime,"HH:mm"),""),o(5),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),_("",r.getPriceEmoji(t.data.today.priceCategory)," ",p(12,22,t.data.today.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.today.priceCategory),")"),o(3),g(r.getPriceCssClass(t.data.today.priceCategory)),o(),l("",p(18,25,t.data.today.estimatedTotalPriceCents,"1.2-2")," sentti\xE4"),o(2),m("ngIf",t.data.today.potentialSavingsCents>0),o(),m("ngIf",t.data.today.priceCategory==="VERY_CHEAP"||t.data.today.priceCategory==="CHEAP"),o(),m("ngIf",t.data.today.priceCategory==="NORMAL"),o(),m("ngIf",t.data.today.priceCategory==="EXPENSIVE"||t.data.today.priceCategory==="VERY_EXPENSIVE")}}function ut(a,d){if(a&1&&(i(0,"div",23),u(1,dt,19,16,"div",24)(2,st,19,20,"div",24)(3,gt,23,28,"div",24),n()),a&2){let t=s(2).ngIf,r=s();o(),m("ngIf",r.shouldRecommendNow(t.data.today)),o(),m("ngIf",r.isCurrentlyOptimalTime(t.data.today)&&!r.shouldRecommendNow(t.data.today)),o(),m("ngIf",!r.isCurrentlyOptimalTime(t.data.today))}}function _t(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Erinomainen aika: "),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tonight.priceCategory)," ")}}function Ct(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Normaali aika: "),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tonight.priceCategory)," ")}}function vt(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u26A0\uFE0F Paras saatavilla oleva:"),n(),e(3),n()),a&2){let t=s(4).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tonight.priceCategory),", harkitse odottamista ")}}function ht(a,d){if(a&1&&(i(0,"div",30)(1,"p",38),e(2,"T\xE4n\xE4 y\xF6n\xE4"),n(),i(3,"p",31),e(4),c(5,"date"),c(6,"date"),n(),i(7,"p",27),e(8,"Spot-hinta: "),i(9,"strong"),e(10),c(11,"number"),n(),e(12),n(),i(13,"p",28),e(14,"Pesun hinta: "),i(15,"strong"),e(16),c(17,"number"),n()(),u(18,_t,4,1,"p",33)(19,Ct,4,1,"p",33)(20,vt,4,1,"p",33),n()),a&2){let t=s(3).ngIf,r=s();o(4),_("",p(5,15,t.data.tonight.startTime,"HH:mm")," - ",p(6,18,t.data.tonight.endTime,"HH:mm"),""),o(5),g(r.getPriceCssClass(t.data.tonight.priceCategory)),o(),_("",r.getPriceEmoji(t.data.tonight.priceCategory)," ",p(11,21,t.data.tonight.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.tonight.priceCategory),")"),o(3),g(r.getPriceCssClass(t.data.tonight.priceCategory)),o(),l("",p(17,24,t.data.tonight.estimatedTotalPriceCents,"1.2-2")," sentti\xE4"),o(2),m("ngIf",t.data.tonight.priceCategory==="VERY_CHEAP"||t.data.tonight.priceCategory==="CHEAP"),o(),m("ngIf",t.data.tonight.priceCategory==="NORMAL"),o(),m("ngIf",t.data.tonight.priceCategory==="EXPENSIVE"||t.data.tonight.priceCategory==="VERY_EXPENSIVE")}}function yt(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Erinomainen aika: "),n(),e(3),n()),a&2){let t=s(5).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tomorrow.priceCategory)," ")}}function xt(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u{1F4A1} Normaali aika: "),n(),e(3),n()),a&2){let t=s(5).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tomorrow.priceCategory)," ")}}function ft(a,d){if(a&1&&(i(0,"p",36)(1,"strong"),e(2,"\u26A0\uFE0F Paras saatavilla oleva:"),n(),e(3),n()),a&2){let t=s(5).ngIf,r=s();o(3),l(" S\xE4hk\xF6 on ",r.getPriceCategoryText(t.data.tomorrow.priceCategory),", harkitse odottamista ")}}function Et(a,d){if(a&1&&(i(0,"div",30)(1,"p",38),e(2,"Huomenna"),n(),i(3,"p",31),e(4),c(5,"date"),c(6,"date"),n(),i(7,"p",27),e(8,"Spot-hinta: "),i(9,"strong"),e(10),c(11,"number"),n(),e(12),n(),i(13,"p",28),e(14,"Pesun hinta: "),i(15,"strong"),e(16),c(17,"number"),n()(),u(18,yt,4,1,"p",33)(19,xt,4,1,"p",33)(20,ft,4,1,"p",33),n()),a&2){let t=s(4).ngIf,r=s();o(4),_("",p(5,15,t.data.tomorrow.startTime,"HH:mm")," - ",p(6,18,t.data.tomorrow.endTime,"HH:mm"),""),o(5),g(r.getPriceCssClass(t.data.tomorrow.priceCategory)),o(),_("",r.getPriceEmoji(t.data.tomorrow.priceCategory)," ",p(11,21,t.data.tomorrow.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.tomorrow.priceCategory),")"),o(3),g(r.getPriceCssClass(t.data.tomorrow.priceCategory)),o(),l("",p(17,24,t.data.tomorrow.estimatedTotalPriceCents,"1.2-2")," sentti\xE4"),o(2),m("ngIf",t.data.tomorrow.priceCategory==="VERY_CHEAP"||t.data.tomorrow.priceCategory==="CHEAP"),o(),m("ngIf",t.data.tomorrow.priceCategory==="NORMAL"),o(),m("ngIf",t.data.tomorrow.priceCategory==="EXPENSIVE"||t.data.tomorrow.priceCategory==="VERY_EXPENSIVE")}}function Pt(a,d){if(a&1&&u(0,Et,21,27,"div",39),a&2){let t=s(3).ngIf;m("ngIf",t.data.tomorrow)}}function Ot(a,d){if(a&1&&(i(0,"div",23)(1,"h3"),e(2,"\u{1F7E2} Paras saatavilla oleva aika"),n(),u(3,ht,21,27,"div",37)(4,Pt,1,1,"ng-template",null,0,N),n()),a&2){let t=F(5),r=s(2).ngIf;o(3),m("ngIf",r.data.tonight)("ngIfElse",t)}}function Mt(a,d){if(a&1&&(i(0,"p",45)(1,"strong"),e(2,"\u{1F4B0} S\xE4\xE4st\xF6 vs. nyt: "),n(),i(3,"strong",35),e(4),c(5,"number"),n(),e(6," ("),i(7,"strong"),e(8),c(9,"number"),n(),e(10,") "),n()),a&2){let t=s(4).ngIf;o(4),l("",p(5,2,t.data.tonight.potentialSavingsCents,"1.2-2")," sentti\xE4"),o(4),l("",p(9,5,t.data.tonight.potentialSavingsPercentage,"1.1-1"),"%")}}function St(a,d){if(a&1&&(i(0,"div",42)(1,"h5"),e(2,"... jos pyykin pesu y\xF6ll\xE4 kiinnostaa niin se voisi kannattaa"),n(),i(3,"div",43)(4,"p")(5,"strong"),e(6,"Aika: "),n(),i(7,"strong"),e(8),c(9,"date"),c(10,"date"),n()(),i(11,"p")(12,"strong"),e(13,"Spot-hinta: "),n(),i(14,"strong"),e(15),c(16,"number"),n(),e(17),n(),i(18,"p")(19,"strong"),e(20,"Pesun hinta: "),n(),i(21,"strong"),e(22),c(23,"number"),n()(),u(24,Mt,11,8,"p",44),i(25,"p",36)(26,"strong"),e(27,"\u{1F4A1}"),n(),e(28),n()()()),a&2){let t=s(3).ngIf,r=s();o(7),g(r.getPriceCssClass(t.data.tonight.priceCategory)),o(),_("",p(9,17,t.data.tonight.startTime,"HH:mm")," - ",p(10,20,t.data.tonight.endTime,"HH:mm"),""),o(6),g(r.getPriceCssClass(t.data.tonight.priceCategory)),o(),_("",r.getPriceEmoji(t.data.tonight.priceCategory)," ",p(16,23,t.data.tonight.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.tonight.priceCategory),")"),o(4),g(r.getPriceCssClass(t.data.tonight.priceCategory)),o(),l("",p(23,26,t.data.tonight.estimatedTotalPriceCents,"1.2-2")," sentti\xE4"),o(2),m("ngIf",t.data.tonight.potentialSavingsCents>0),o(4),l(" Vaihtoehtoinen ",r.getPriceCategoryText(t.data.tonight.priceCategory)," aika ")}}function It(a,d){if(a&1&&(i(0,"p",45)(1,"strong"),e(2,"\u{1F4B0} S\xE4\xE4st\xF6 vs. nyt: "),n(),i(3,"strong",35),e(4),c(5,"number"),n(),e(6," ("),i(7,"strong"),e(8),c(9,"number"),n(),e(10,") "),n()),a&2){let t=s(4).ngIf;o(4),l("",p(5,2,t.data.tomorrow.potentialSavingsCents,"1.2-2")," sentti\xE4"),o(4),l("",p(9,5,t.data.tomorrow.potentialSavingsPercentage,"1.1-1"),"%")}}function wt(a,d){if(a&1&&(i(0,"div",42)(1,"h5"),e(2,"... jos huomiseen voit s\xE4\xE4st\xE4\xE4, niin se voisi kannattaa"),n(),i(3,"div",43)(4,"p")(5,"strong"),e(6,"Aika: "),n(),i(7,"strong"),e(8),c(9,"date"),c(10,"date"),n()(),i(11,"p")(12,"strong"),e(13,"Spot-hinta: "),n(),i(14,"strong"),e(15),c(16,"number"),n(),e(17),n(),i(18,"p")(19,"strong"),e(20,"Pesun hinta: "),n(),i(21,"strong"),e(22),c(23,"number"),n()(),u(24,It,11,8,"p",44),i(25,"p",36)(26,"strong"),e(27,"\u{1F4A1}"),n(),e(28),n()()()),a&2){let t=s(3).ngIf,r=s();o(7),g(r.getPriceCssClass(t.data.tomorrow.priceCategory)),o(),_("",p(9,17,t.data.tomorrow.startTime,"HH:mm")," - ",p(10,20,t.data.tomorrow.endTime,"HH:mm"),""),o(6),g(r.getPriceCssClass(t.data.tomorrow.priceCategory)),o(),_("",r.getPriceEmoji(t.data.tomorrow.priceCategory)," ",p(16,23,t.data.tomorrow.priceAvg,"1.2-2")," c/kWh"),o(2),l(" (",r.getPriceCategoryText(t.data.tomorrow.priceCategory),")"),o(4),g(r.getPriceCssClass(t.data.tomorrow.priceCategory)),o(),l("",p(23,26,t.data.tomorrow.estimatedTotalPriceCents,"1.2-2")," sentti\xE4"),o(2),m("ngIf",t.data.tomorrow.potentialSavingsCents>0),o(4),l(" Vaihtoehtoinen ",r.getPriceCategoryText(t.data.tomorrow.priceCategory)," aika ")}}function kt(a,d){if(a&1&&(i(0,"div",40)(1,"h4"),e(2,"Vaihtoehtoiset ajat"),n(),u(3,St,29,29,"div",41)(4,wt,29,29,"div",41),n()),a&2){let t=s(2).ngIf;o(3),m("ngIf",t.data.tonight&&t.data.today),o(),m("ngIf",t.data.tomorrow&&(t.data.today||!t.data.today&&t.data.tonight))}}function bt(a,d){a&1&&(i(0,"div",46)(1,"p")(2,"strong"),e(3,"Optimaalisia aikoja ei ole saatavilla"),n()(),i(4,"p"),e(5,"Kaikissa saatavilla olevissa aikav\xE4leiss\xE4 on samankaltainen hinnoittelu. Voit ajaa pesukoneen milloin vain sopii."),n()())}function Tt(a,d){if(a&1&&(i(0,"div",19),u(1,ut,4,3,"div",20)(2,Ot,6,2,"div",20)(3,kt,5,2,"div",21)(4,bt,6,0,"div",22),n()),a&2){let t=s().ngIf;o(),m("ngIf",t.data.today),o(),m("ngIf",!t.data.today&&(t.data.tonight||t.data.tomorrow)),o(),m("ngIf",t.data.tonight&&t.data.today||t.data.tomorrow&&(t.data.today||!t.data.today&&t.data.tonight)),o(),m("ngIf",!t.data.today&&!t.data.tonight&&!t.data.tomorrow)}}function Dt(a,d){if(a&1){let t=O();i(0,"div",47)(1,"p"),e(2,"Napsauta alla olevaa painiketta saadaksesi AI-avusteiset suositukset optimaaliselle pyykinpesuajalle perustuen:"),n(),i(3,"ul")(4,"li"),e(5,"Suomen nykyiset s\xE4hk\xF6n spot-hinnat"),n(),i(6,"li"),e(7,"2 tunnin pesujakson kesto"),n(),i(8,"li"),e(9,"1,5 kWh energiankulutus"),n(),i(10,"li"),e(11,"Kustannusoptimointianalyysi ja s\xE4\xE4st\xF6laskurit"),n()(),i(12,"button",48),x("click",function(){E(t);let C=s(2);return P(C.getOptimalSchedule())}),e(13," Hae parhaat pesuajat "),n()()}}function Wt(a,d){if(a&1&&(i(0,"div",5),u(1,ot,3,0,"div",6)(2,rt,8,1,"div",7)(3,Tt,5,4,"div",8)(4,Dt,14,0,"div",9),i(5,"div",10)(6,"div",11)(7,"div",12)(8,"h4"),e(9,"\u{1F50D} MIKSI PIDEMPI OHJELMA EI KULUTA ENEMM\xC4N:"),n(),i(10,"ul",13)(11,"li")(12,"strong"),e(13,"L\xE4mmitys sy\xF6 s\xE4hk\xF6\xE4"),n(),e(14," - ei aika! Suurin kulutus tulee veden l\xE4mmitt\xE4misest\xE4"),n(),i(15,"li")(16,"strong"),e(17,"ECO-ohjelmat (2-3h)"),n(),e(18," k\xE4ytt\xE4v\xE4t matalampaa l\xE4mp\xF6tilaa = s\xE4\xE4st\xE4v\xE4t energiaa"),n(),i(19,"li")(20,"strong"),e(21,"Pumput ja rumpu"),n(),e(22," kuluttavat v\xE4h\xE4n (<10% kokonaiskulutuksesta)"),n(),i(23,"li")(24,"strong"),e(25,"Pidempi pesu"),n(),e(26," = parempi pesutulos matalammassa l\xE4mp\xF6tilassa"),n()()(),i(27,"div",12)(28,"h4"),e(29,"\u{1F4A1} ENERGIANS\xC4\xC4ST\xD6VINKIT:"),n(),i(30,"ul",14)(31,"li"),e(32,"\u2705 "),i(33,"strong"),e(34,"Valitse 30-40\xB0C"),n(),e(35," riitt\xE4\xE4 useimmiten (s\xE4\xE4st\xE4\xE4 50% energiasta)"),n(),i(36,"li"),e(37,"\u2705 "),i(38,"strong"),e(39,"K\xE4yt\xE4 ECO-ohjelmia"),n(),e(40," huolimatta pituudesta"),n(),i(41,"li"),e(42,"\u2705 "),i(43,"strong"),e(44,"T\xE4yt\xE4 kone t\xE4yteen"),n(),e(45," mutta \xE4l\xE4 ahtaa"),n(),i(46,"li"),e(47,"\u2705 "),i(48,"strong"),e(49,"Ohita esipesu"),n(),e(50," jos mahdollista"),n(),i(51,"li"),e(52,"\u2705 "),i(53,"strong"),e(54,"Uudet nestepesuaineet"),n(),e(55," toimivat kylm\xE4ss\xE4kin"),n()()()()()()),a&2){let t=d.ngIf;o(),m("ngIf",t.loading),o(),m("ngIf",t.error&&!t.loading),o(),m("ngIf",t.data&&!t.loading&&!t.error),o(),m("ngIf",!t.loading&&!t.data&&!t.error)}}var f=class a{washLaundryService=v(h);priceUtilities=v(J);priceCalculation=v(q);trigger$=new M(void 0);optimalSchedule$=this.trigger$.pipe(W(()=>this.washLaundryService.getOptimalSchedule().pipe(k(d=>{let t=d.now||d.today||d.tonight||d.tomorrow;if(!t)return{loading:!1,data:{defaults:d.defaults},error:null};let r={defaults:d.defaults};return d.now&&(r.now=this.priceCalculation.addEstimatedPriceWithSavings(d.now,d.defaults,t)),d.today&&(r.today=this.priceCalculation.addEstimatedPriceWithSavings(d.today,d.defaults,t)),d.tonight&&(r.tonight=this.priceCalculation.addEstimatedPriceWithSavings(d.tonight,d.defaults,t)),d.tomorrow&&(r.tomorrow=this.priceCalculation.addEstimatedPriceWithSavings(d.tomorrow,d.defaults,t)),{loading:!1,data:r,error:null}}),y(d=>{console.error("[WashLaundryComponent] Error fetching optimal schedule:",d);let t=d.userMessage||"Aikataulun lataaminen ep\xE4onnistui";return S({loading:!1,data:null,error:t})}),D({loading:!0,data:null,error:null}))));getOptimalSchedule(){this.trigger$.next()}isCurrentlyOptimalTime(d){return this.priceUtilities.isCurrentlyOptimalTime(d)}getPriceCategoryText(d){return this.priceUtilities.getPriceCategoryText(d)}shouldRecommendNow(d){return this.priceUtilities.shouldRecommendNow(d)}getPriceCssClass(d){return this.priceUtilities.getPriceCssClass(d)}getPriceEmoji(d){return this.priceUtilities.getPriceEmoji(d)}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=B({type:a,selectors:[["app-wash-laundry"]],standalone:!1,decls:5,vars:5,consts:[["tomorrowFallback",""],["appCard",""],["appCardHeader","","title","on paras hetki pest\xE4 pyykki\xE4?","subtitle","Saa AI-avusteiset suositukset s\xE4hk\xF6n hinnan ja aikataulun perusteella","backButtonTestId","wash-laundry-back-button","refreshButtonTestId","refresh-schedule-button",3,"refreshClicked","showBackButton","showRefreshButton"],["appCardContent",""],["class","wash-laundry-content",4,"ngIf"],[1,"wash-laundry-content"],["class","loading-container",4,"ngIf"],["appCardContentHighlighted","","class","error-container",4,"ngIf"],["class","schedule-container",4,"ngIf"],["class","initial-state",4,"ngIf"],[1,"tips-section"],[1,"tips-content"],[1,"tip-category"],[1,"tip-list"],[1,"tip-list","savings-tips"],[1,"loading-container"],["appCardContentHighlighted","",1,"error-container"],[1,"error-actions"],["type","button","data-test-id","retry-schedule-button",1,"retry-button",3,"click"],[1,"schedule-container"],["class","primary-recommendation","appCardContentHighlighted","",4,"ngIf"],["class","alternatives-section",4,"ngIf"],["appCardContentHighlighted","",4,"ngIf"],["appCardContentHighlighted","",1,"primary-recommendation"],[4,"ngIf"],[1,"current-optimal-time"],[1,"now-message"],[1,"price-info"],[1,"cost-info"],[1,"action-message"],[1,"primary-time"],[1,"time-display"],["class","savings-info",4,"ngIf"],["class","optimal-info",4,"ngIf"],[1,"savings-info"],[1,"price-cheap"],[1,"optimal-info"],["class","primary-time",4,"ngIf","ngIfElse"],[1,"period-label"],["class","primary-time",4,"ngIf"],[1,"alternatives-section"],["class","time-slot alternative",4,"ngIf"],[1,"time-slot","alternative"],[1,"alternative-details"],["class","savings-comparison",4,"ngIf"],[1,"savings-comparison"],["appCardContentHighlighted",""],[1,"initial-state"],["type","button","data-test-id","get-schedule-button",1,"get-schedule-button",3,"click"]],template:function(t,r){t&1&&(i(0,"div",1)(1,"div",2),x("refreshClicked",function(){return r.getOptimalSchedule()}),n(),i(2,"div",3),u(3,Wt,56,4,"div",4),c(4,"async"),n()()),t&2&&(o(),m("showBackButton",!0)("showRefreshButton",!0),o(2),m("ngIf",j(4,3,r.optimalSchedule$)))},dependencies:[V,Q,Z,tt,et,R,U,z],styles:[".wash-laundry-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem 0}.wash-laundry-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--spotify-text-light);margin-bottom:.5rem;font-size:1rem}.wash-laundry-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--spotify-text-light);line-height:1.6;margin-bottom:1rem}.wash-laundry-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.wash-laundry-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--spotify-green);font-weight:500}.wash-laundry-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap}.wash-laundry-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background:var(--spotify-green);color:var(--spotify-black);border:none;padding:.5rem 1rem;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease;font-size:.9rem}.wash-laundry-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green-hover)}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]{margin-bottom:2rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--spotify-green);font-size:1.5rem;font-weight:700;margin-bottom:1rem;text-align:center}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]{text-align:center}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .period-label[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:.9rem;margin-bottom:.25rem;text-transform:uppercase;font-weight:500}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{color:var(--spotify-white);font-size:2rem;font-weight:700;font-family:Montserrat,sans-serif;margin-bottom:.5rem;line-height:1.2}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:1rem;margin-bottom:0}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]{margin-top:1.5rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--spotify-white);font-size:1.1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]{background:#ffffff05;border:1px solid rgba(255,255,255,.05);border-radius:8px;padding:1rem;margin-bottom:1rem;transition:background-color .2s ease}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]:hover{background:#ffffff0d}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:1rem;font-weight:600;margin-bottom:.75rem;text-transform:uppercase;font-size:.9rem;letter-spacing:.5px}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.9rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   .prop[_ngcontent-%COMP%]{color:var(--spotify-text-light)}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   .savings-comparison[_ngcontent-%COMP%]{color:var(--spotify-green)}.wash-laundry-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]{text-align:center}.wash-laundry-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-schedule-button[_ngcontent-%COMP%]{background:var(--spotify-green);color:var(--spotify-black);border:none;padding:1rem 2rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;margin-top:1.5rem;transition:all .2s ease}.wash-laundry-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-schedule-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green-hover);transform:translateY(-1px)}.wash-laundry-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.wash-laundry-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:transparent;color:var(--spotify-green);border:1px solid var(--spotify-green);padding:.5rem 1.5rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease}.wash-laundry-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green);color:var(--spotify-black)}@media (max-width: 768px){.wash-laundry-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem}.wash-laundry-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-forecast-button[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.9rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:1.5rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{font-size:.9rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]{padding:.75rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem}.wash-laundry-content[_ngcontent-%COMP%]   .schedule-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.price-very-cheap[_ngcontent-%COMP%]{color:#0f0!important;font-weight:600}.price-cheap[_ngcontent-%COMP%]{color:var(--spotify-green)!important;font-weight:600}.price-normal[_ngcontent-%COMP%]{color:var(--spotify-white)!important;font-weight:500}.price-expensive[_ngcontent-%COMP%]{color:#ff6b6b!important;font-weight:600}.price-very-expensive[_ngcontent-%COMP%]{color:#f33!important;font-weight:700}"]})};var Lt=[{path:"",component:f}],at=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=A({type:a});static \u0275inj=H({providers:[h],imports:[Y,nt,X.forChild(Lt)]})};export{at as WashLaundryModule};
