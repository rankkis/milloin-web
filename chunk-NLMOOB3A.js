import{A as it,B as ot,a as $t,b as Kt,c as Zt,d as qt,e as Jt,f as Qt,g as Q,j as te,k as ee,p as ae,q as ne,r as ie,s as L,t as Pt,u as tt,v as et,w as at,x as oe,y as nt,z as A}from"./chunk-UBU6MQJK.js";import{$a as y,A as X,Ab as Gt,Bb as b,Cb as Xt,Jb as W,K as Ht,Ma as s,O as Vt,P as Wt,Pa as Lt,Qa as I,Ra as _,T as $,Ta as Ut,U as k,W as K,Wa as C,Xa as O,Ya as w,Z as f,_a as xt,a as z,da as _t,ea as yt,gb as R,ha as j,hb as l,ib as q,j as At,jb as v,kb as r,lb as o,m as Bt,ma as Z,mb as J,n as Ft,na as H,nb as Ct,q as Nt,qa as P,qb as D,r as zt,rb as d,sb as Et,tb as Mt,ub as Yt,va as V,vb as i,xb as p,y as jt,yb as E,zb as u}from"./chunk-FAGCO4Y5.js";var re={production:!0,apiUrl:"https://milloin-server.vercel.app"};var B=class a{http=f(ee);apiUrl=`${re.apiUrl}/washing-machine`;httpOptions={headers:new te({Accept:"application/json","Content-Type":"application/json"})};getForecast(){let n=`${this.apiUrl}/forecast?hours=36`;return this.http.get(n,this.httpOptions).pipe(Nt(3e4),Ht({count:3,delay:(t,e)=>{let c=Math.min(1e3*Math.pow(2,e),1e4);return jt(c)}}),X(t=>{console.error("[WashingMachineService] Error:",t.status,t.statusText);let e="Ennusteen lataaminen ep\xE4onnistui";return t.status===0?e="Verkkoyhteysvirhe - tarkista internetyhteys":t.status>=400&&t.status<500?e=`Palvelinvirhe (${t.status}) - yrit\xE4 my\xF6hemmin uudelleen`:t.status>=500&&(e="Palvelinvirhe - yrit\xE4 my\xF6hemmin uudelleen"),Ft(()=>({userMessage:e}))}))}static \u0275fac=function(t){return new(t||a)};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var rt=class a{constructor(n,t){this.el=n;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card")}static \u0275fac=function(t){return new(t||a)(_(P),_(I))};static \u0275dir=w({type:a,selectors:[["","appCard",""]]})};var M=function(a){return a[a.FADING_IN=0]="FADING_IN",a[a.VISIBLE=1]="VISIBLE",a[a.FADING_OUT=2]="FADING_OUT",a[a.HIDDEN=3]="HIDDEN",a}(M||{}),wt=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=M.HIDDEN;constructor(n,t,e,c=!1){this._renderer=n,this.element=t,this.config=e,this._animationForciblyDisabledThroughCss=c}fadeOut(){this._renderer.fadeOutRipple(this)}},se=et({passive:!0,capture:!0}),It=class{_events=new Map;addHandler(n,t,e,c){let m=this._events.get(t);if(m){let g=m.get(e);g?g.add(c):m.set(e,new Set([c]))}else this._events.set(t,new Map([[e,new Set([c])]])),n.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,se)})}removeHandler(n,t,e){let c=this._events.get(n);if(!c)return;let m=c.get(t);m&&(m.delete(e),m.size===0&&c.delete(t),c.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,se)))}_delegateEventHandler=n=>{let t=L(n);t&&this._events.get(n.type)?.forEach((e,c)=>{(c===t||c.contains(t))&&e.forEach(m=>m.handleEvent(n))})}},U={enterDuration:225,exitDuration:150},Ce=800,ce=et({passive:!0,capture:!0}),de=["mousedown","touchstart"],me=["mouseup","mouseleave","touchend","touchcancel"],Ee=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(e,c){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return a})(),st=class a{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new It;constructor(n,t,e,c,m){this._target=n,this._ngZone=t,this._platform=c,c.isBrowser&&(this._containerElement=at(e)),m&&m.get(nt).load(Ee)}fadeInRipple(n,t,e={}){let c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),m=z(z({},U),e.animation);e.centered&&(n=c.left+c.width/2,t=c.top+c.height/2);let g=e.radius||Me(n,t,c),vt=n-c.left,N=t-c.top,T=m.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${vt-g}px`,h.style.top=`${N-g}px`,h.style.height=`${g*2}px`,h.style.width=`${g*2}px`,e.color!=null&&(h.style.backgroundColor=e.color),h.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(h);let Dt=window.getComputedStyle(h),ye=Dt.transitionProperty,Tt=Dt.transitionDuration,gt=ye==="none"||Tt==="0s"||Tt==="0s, 0s"||c.width===0&&c.height===0,S=new wt(this,h,e,gt);h.style.transform="scale3d(1, 1, 1)",S.state=M.FADING_IN,e.persistent||(this._mostRecentTransientRipple=S);let G=null;return!gt&&(T||m.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let St=()=>{G&&(G.fallbackTimer=null),clearTimeout(Rt),this._finishRippleTransition(S)},ht=()=>this._destroyRipple(S),Rt=setTimeout(ht,T+100);h.addEventListener("transitionend",St),h.addEventListener("transitioncancel",ht),G={onTransitionEnd:St,onTransitionCancel:ht,fallbackTimer:Rt}}),this._activeRipples.set(S,G),(gt||!T)&&this._finishRippleTransition(S),S}fadeOutRipple(n){if(n.state===M.FADING_OUT||n.state===M.HIDDEN)return;let t=n.element,e=z(z({},U),n.config.animation);t.style.transitionDuration=`${e.exitDuration}ms`,t.style.opacity="0",n.state=M.FADING_OUT,(n._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let t=at(n);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,de.forEach(e=>{a._eventManager.addHandler(this._ngZone,e,t,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{me.forEach(t=>{this._triggerElement.addEventListener(t,this,ce)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===M.FADING_IN?this._startFadeOutTransition(n):n.state===M.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let t=n===this._mostRecentTransientRipple,{persistent:e}=n.config;n.state=M.VISIBLE,!e&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=M.HIDDEN,t!==null&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),n.element.remove()}_onMousedown(n){let t=ne(n),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Ce;!this._target.rippleDisabled&&!t&&!e&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!ie(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=n.changedTouches;if(t)for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let t=n.state===M.VISIBLE||n.config.terminateOnPointerUp&&n.state===M.FADING_IN;!n.config.persistent&&t&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(de.forEach(t=>a._eventManager.removeHandler(t,n,this)),this._pointerUpEventsRegistered&&(me.forEach(t=>n.removeEventListener(t,this,ce)),this._pointerUpEventsRegistered=!1))}};function Me(a,n,t){let e=Math.max(Math.abs(a-t.left),Math.abs(a-t.right)),c=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(e*e+c*c)}var le=new K("mat-ripple-global-options");var Pe={capture:!0},we=["focus","mousedown","mouseenter","touchstart"],kt="mat-ripple-loader-uninitialized",Ot="mat-ripple-loader-class-name",pe="mat-ripple-loader-centered",ct="mat-ripple-loader-disabled",ue=(()=>{class a{_document=f($t);_animationMode=f(V,{optional:!0});_globalRippleOptions=f(le,{optional:!0});_platform=f(tt);_ngZone=f(H);_injector=f(j);_eventCleanups;_hosts=new Map;constructor(){let t=f(Lt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>we.map(e=>Pt(t,this._document,e,this._onInteraction,Pe)))}ngOnDestroy(){let t=this._hosts.keys();for(let e of t)this.destroyRipple(e);this._eventCleanups.forEach(e=>e())}configureRipple(t,e){t.setAttribute(kt,this._globalRippleOptions?.namespace??""),(e.className||!t.hasAttribute(Ot))&&t.setAttribute(Ot,e.className||""),e.centered&&t.setAttribute(pe,""),e.disabled&&t.setAttribute(ct,"")}setDisabled(t,e){let c=this._hosts.get(t);c?(c.target.rippleDisabled=e,!e&&!c.hasSetUpEvents&&(c.hasSetUpEvents=!0,c.renderer.setupTriggerEvents(t))):e?t.setAttribute(ct,""):t.removeAttribute(ct)}_onInteraction=t=>{let e=L(t);if(e instanceof HTMLElement){let c=e.closest(`[${kt}="${this._globalRippleOptions?.namespace??""}"]`);c&&this._createRipple(c)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let e=this._document.createElement("span");e.classList.add("mat-ripple",t.getAttribute(Ot)),t.append(e);let c=this._animationMode==="NoopAnimations",m=this._globalRippleOptions,g=c?0:m?.animation?.enterDuration??U.enterDuration,vt=c?0:m?.animation?.exitDuration??U.exitDuration,N={rippleDisabled:c||m?.disabled||t.hasAttribute(ct),rippleConfig:{centered:t.hasAttribute(pe),terminateOnPointerUp:m?.terminateOnPointerUp,animation:{enterDuration:g,exitDuration:vt}}},T=new st(N,this._ngZone,e,this._platform,this._injector),h=!N.rippleDisabled;h&&T.setupTriggerEvents(t),this._hosts.set(t,{target:N,renderer:T,hasSetUpEvents:h}),t.removeAttribute(kt)}destroyRipple(t){let e=this._hosts.get(t);e&&(e.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(e){return new(e||a)};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var be=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["structural-styles"]],decls:0,vars:0,template:function(e,c){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return a})();var ke=["mat-icon-button",""],Oe=["*"];var De=new K("MAT_BUTTON_CONFIG");var Te=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],fe=(()=>{class a{_elementRef=f(P);_ngZone=f(H);_animationMode=f(V,{optional:!0});_focusMonitor=f(oe);_rippleLoader=f(ue);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){f(nt).load(be);let t=f(De,{optional:!0}),e=this._elementRef.nativeElement,c=e.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:g}of Te)e.hasAttribute(m)&&c.add(...g)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",e){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,e):this._elementRef.nativeElement.focus(e)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(e){return new(e||a)};static \u0275dir=w({type:a,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",W],disabled:[2,"disabled","disabled",W],ariaDisabled:[2,"aria-disabled","ariaDisabled",W],disabledInteractive:[2,"disabledInteractive","disabledInteractive",W]}})}return a})();var Y=(()=>{class a extends fe{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=C({type:a,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(e,c){e&2&&(R("disabled",c._getDisabledAttribute())("aria-disabled",c._getAriaDisabled()),v(c.color?"mat-"+c.color:""),q("mat-mdc-button-disabled",c.disabled)("mat-mdc-button-disabled-interactive",c.disabledInteractive)("_mat-animation-noopable",c._animationMode==="NoopAnimations")("mat-unthemed",!c.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[xt],attrs:ke,ngContentSelectors:Oe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,c){e&1&&(Et(),J(0,"span",0),Mt(1),J(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return a})();var ve=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=O({type:a});static \u0275inj=k({imports:[A,A]})}return a})();var dt=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=O({type:a});static \u0275inj=k({imports:[A,ve,A]})}return a})();var F=class a{constructor(n){this.location=n}testId="back-button";ariaLabel="Go back to previous page";goBack(){this.location.back()}static \u0275fac=function(t){return new(t||a)(_(Kt))};static \u0275cmp=C({type:a,selectors:[["app-back-button"]],inputs:{testId:"testId",ariaLabel:"ariaLabel"},decls:3,vars:3,consts:[["mat-icon-button","",1,"back-button",3,"click","title"]],template:function(t,e){t&1&&(r(0,"button",0),D("click",function(){return e.goBack()}),r(1,"mat-icon"),i(2,"arrow_back"),o()()),t&2&&(l("title",e.ariaLabel),R("data-test-id",e.testId)("aria-label",e.ariaLabel))},dependencies:[dt,Y,ot,it],styles:[".back-button[_ngcontent-%COMP%]{color:var(--spotify-green);transition:all .2s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#1db9541a;transform:scale(1.1)}.back-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}"]})};var mt=class a{testId="refresh-button";ariaLabel="Refresh data";refresh=new Z;onRefresh(){this.refresh.emit()}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["app-refresh-button"]],inputs:{testId:"testId",ariaLabel:"ariaLabel"},outputs:{refresh:"refresh"},decls:3,vars:3,consts:[["mat-icon-button","",1,"refresh-button",3,"click","title"]],template:function(t,e){t&1&&(r(0,"button",0),D("click",function(){return e.onRefresh()}),r(1,"mat-icon"),i(2,"refresh"),o()()),t&2&&(l("title",e.ariaLabel),R("data-test-id",e.testId)("aria-label",e.ariaLabel))},dependencies:[dt,Y,ot,it],encapsulation:2})};var lt=class a{constructor(n,t,e,c){this.el=n;this.renderer=t;this.viewContainer=e;this.injector=c}title="";subtitle;showBackButton=!0;backButtonTestId="back-button";showRefreshButton=!1;refreshButtonTestId="refresh-button";refreshClicked=new Z;backButtonRef;refreshButtonRef;ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-header"),this.createHeaderStructure()}createHeaderStructure(){this.el.nativeElement.innerHTML="";let n=this.renderer.createElement("div");this.renderer.addClass(n,"header-container");let t=this.renderer.createElement("div");if(this.renderer.addClass(t,"left-actions"),this.showBackButton){let m=this.renderer.createElement("div");this.renderer.addClass(m,"back-button-container"),this.backButtonRef=this.viewContainer.createComponent(F,{injector:this.injector}),this.backButtonRef.instance.testId=this.backButtonTestId,this.backButtonRef.instance.ariaLabel="Go back to previous page",this.renderer.appendChild(m,this.backButtonRef.location.nativeElement),this.renderer.appendChild(t,m)}this.renderer.appendChild(n,t);let e=this.renderer.createElement("div");if(this.renderer.addClass(e,"title-section"),this.title){let m=this.renderer.createElement("h1");this.renderer.addClass(m,"header-title");let g=this.renderer.createText(this.title);this.renderer.appendChild(m,g),this.renderer.appendChild(e,m)}if(this.subtitle){let m=this.renderer.createElement("p");this.renderer.addClass(m,"header-subtitle");let g=this.renderer.createText(this.subtitle);this.renderer.appendChild(m,g),this.renderer.appendChild(e,m)}this.renderer.appendChild(n,e);let c=this.renderer.createElement("div");if(this.renderer.addClass(c,"right-actions"),this.showRefreshButton){let m=this.renderer.createElement("div");this.renderer.addClass(m,"refresh-button-container"),this.refreshButtonRef=this.viewContainer.createComponent(mt,{injector:this.injector}),this.refreshButtonRef.instance.testId=this.refreshButtonTestId,this.refreshButtonRef.instance.ariaLabel="Refresh data",this.refreshButtonRef.instance.refresh.subscribe(()=>{this.refreshClicked.emit()}),this.renderer.appendChild(m,this.refreshButtonRef.location.nativeElement),this.renderer.appendChild(c,m)}this.renderer.appendChild(n,c),this.renderer.appendChild(this.el.nativeElement,n)}ngOnDestroy(){this.backButtonRef&&this.backButtonRef.destroy(),this.refreshButtonRef&&this.refreshButtonRef.destroy()}static \u0275fac=function(t){return new(t||a)(_(P),_(I),_(Ut),_(j))};static \u0275dir=w({type:a,selectors:[["","appCardHeader",""]],inputs:{title:"title",subtitle:"subtitle",showBackButton:"showBackButton",backButtonTestId:"backButtonTestId",showRefreshButton:"showRefreshButton",refreshButtonTestId:"refreshButtonTestId"},outputs:{refreshClicked:"refreshClicked"}})};var pt=class a{constructor(n,t){this.el=n;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-content")}static \u0275fac=function(t){return new(t||a)(_(P),_(I))};static \u0275dir=w({type:a,selectors:[["","appCardContent",""]]})};var ut=class a{constructor(n,t){this.el=n;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-content-highlighted")}static \u0275fac=function(t){return new(t||a)(_(P),_(I))};static \u0275dir=w({type:a,selectors:[["","appCardContentHighlighted",""]]})};function Ne(a,n){a&1&&(r(0,"div",15)(1,"p"),i(2,"Ladataan optimaalisia pesuaikoja..."),o()())}function ze(a,n){if(a&1){let t=Ct();r(0,"div",16)(1,"p")(2,"strong"),i(3,"Virhe:"),o(),i(4),o(),r(5,"div",17)(6,"button",18),D("click",function(){_t(t);let c=d(2);return yt(c.getForecast())}),i(7," Yrit\xE4 uudelleen "),o()()()}if(a&2){let t=d().ngIf;s(4),p(" ",t.error,"")}}function je(a,n){if(a&1&&(r(0,"div")(1,"h3"),i(2,"\u{1F389} NYT on t\xE4ydellinen aika pest\xE4 pyykki\xE4! \u{1F9FA}\u2728"),o(),r(3,"div",25)(4,"p",26),i(5,"\u23F0 Olet nyt optimaalisessa aikaikkunassa!"),o(),r(6,"p",27),i(7,"Spot-hinta: "),r(8,"strong"),i(9),u(10,"number"),o(),i(11),o(),r(12,"p",28),i(13,"Pesun hinta: "),r(14,"strong"),i(15),u(16,"number"),o()(),r(17,"p",29),i(18,"\u{1F44D} K\xE4ynnist\xE4 pesukone nyt saadaksesi parhaan hinnan!"),o()()()),a&2){let t=d(3).ngIf,e=d();s(8),v(e.getPriceCssClass(t.data.today.price)),s(),E("",e.getPriceEmoji(t.data.today.price)," ",b(10,10,t.data.today.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.today.price),")"),s(3),v(e.getPriceCssClass(t.data.today.price)),s(),p("",b(16,13,e.calculateWashCost(t.data.today),"1.2-2")," sentti\xE4")}}function He(a,n){if(a&1&&(r(0,"div")(1,"h3"),i(2),o(),r(3,"div",25)(4,"p",26),i(5,"\u23F0 T\xE4m\xE4 on paras saatavilla oleva aika, mutta s\xE4hk\xF6 on kalliimpaa"),o(),r(6,"p",27),i(7,"Spot-hinta: "),r(8,"strong"),i(9),u(10,"number"),o(),i(11),o(),r(12,"p",28),i(13,"Pesun hinta: "),r(14,"strong"),i(15),u(16,"number"),o()(),r(17,"p",29),i(18,"\u{1F914} Harkitse odottamaan halvempaa aikaa, jos mahdollista"),o()()()),a&2){let t=d(3).ngIf,e=d();s(),v(e.getPriceCssClass(t.data.today.price)),s(),p("\u26A0\uFE0F Olet optimaalisessa aikaikkunassa. Hinta ei kuitenkaan ole erityisen halpa vaan l\xE4hinn\xE4 ~",e.getPriceCategoryText(t.data.today.price),""),s(6),v(e.getPriceCssClass(t.data.today.price)),s(),E("",e.getPriceEmoji(t.data.today.price)," ",b(10,14,t.data.today.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.today.price),")"),s(3),v(e.getPriceCssClass(t.data.today.price)),s(),p("",b(16,17,e.calculateWashCost(t.data.today),"1.2-2")," sentti\xE4")}}function Ve(a,n){if(a&1&&(r(0,"p",33)(1,"strong"),i(2,"Arvioitu s\xE4\xE4st\xF6 vs. nyt: "),o(),r(3,"strong"),i(4),u(5,"number"),o(),i(6," ("),r(7,"strong"),i(8),u(9,"number"),o(),i(10,") "),o()),a&2){let t=n.ngIf;s(4),p("",b(5,2,t.savingsCents,"1.2-2")," sentti\xE4"),s(4),p("",b(9,5,t.savingsPercentage,"1.1-1"),"%")}}function We(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Erinomainen aika: "),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.today.price)," ")}}function Le(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Normaali aika: "),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.today.price)," ")}}function Ue(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u26A0\uFE0F Paras saatavilla oleva:"),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.today.price),", harkitse odottamista ")}}function Ye(a,n){if(a&1&&(r(0,"div"),y(1,We,4,1,"p",34)(2,Le,4,1,"p",34)(3,Ue,4,1,"p",34),o()),a&2){let t=d(4).ngIf,e=d();s(),l("ngIf",e.getPriceCategory(t.data.today.price)==="VERY_CHEAP"||e.getPriceCategory(t.data.today.price)==="CHEAP"),s(),l("ngIf",e.getPriceCategory(t.data.today.price)==="NORMAL"),s(),l("ngIf",e.getPriceCategory(t.data.today.price)==="EXPENSIVE"||e.getPriceCategory(t.data.today.price)==="VERY_EXPENSIVE")}}function Ge(a,n){if(a&1&&(r(0,"div")(1,"h3"),i(2,"\u{1F7E2} Paras aika pest\xE4 pyykki\xE4 on t\xE4n\xE4\xE4n"),o(),r(3,"div",30)(4,"p",31),i(5),u(6,"date"),u(7,"date"),o(),r(8,"p",27),i(9,"Spot-hinta: "),r(10,"strong"),i(11),u(12,"number"),o(),i(13),o(),r(14,"p",28),i(15,"Pesun hinta: "),r(16,"strong"),i(17),u(18,"number"),o()(),y(19,Ve,11,8,"p",32)(20,Ye,4,3,"div",24),o()()),a&2){let t=d(3).ngIf,e=d();s(5),E("",b(6,14,t.data.today.startTime,"HH:mm")," - ",b(7,17,t.data.today.endTime,"HH:mm"),""),s(5),v(e.getPriceCssClass(t.data.today.price)),s(),E("",e.getPriceEmoji(t.data.today.price)," ",b(12,20,t.data.today.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.today.price),")"),s(3),v(e.getPriceCssClass(t.data.today.price)),s(),p("",b(18,23,e.calculateWashCost(t.data.today),"1.2-2")," sentti\xE4"),s(2),l("ngIf",e.calculatePotentialSavings(t.data.today)),s(),l("ngIf",!e.calculatePotentialSavings(t.data.today))}}function Xe(a,n){if(a&1&&(r(0,"div",23),y(1,je,19,16,"div",24)(2,He,19,20,"div",24)(3,Ge,21,26,"div",24),o()),a&2){let t=d(2).ngIf,e=d();s(),l("ngIf",e.shouldRecommendNow(t.data.today)),s(),l("ngIf",e.isCurrentlyOptimalTime(t.data.today)&&!e.shouldRecommendNow(t.data.today)),s(),l("ngIf",!e.isCurrentlyOptimalTime(t.data.today))}}function $e(a,n){if(a&1&&(r(0,"p",33)(1,"strong"),i(2,"Arvioitu s\xE4\xE4st\xF6 vs. nyt: "),o(),r(3,"strong"),i(4),u(5,"number"),o(),i(6," ("),r(7,"strong"),i(8),u(9,"number"),o(),i(10,") "),o()),a&2){let t=n.ngIf;s(4),p("",b(5,2,t.savingsCents,"1.2-2")," sentti\xE4"),s(4),p("",b(9,5,t.savingsPercentage,"1.1-1"),"%")}}function Ke(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Erinomainen aika: "),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tonight.price)," ")}}function Ze(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Normaali aika: "),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tonight.price)," ")}}function qe(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u26A0\uFE0F Paras saatavilla oleva:"),o(),i(3),o()),a&2){let t=d(5).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tonight.price),", harkitse odottamista ")}}function Je(a,n){if(a&1&&(r(0,"div"),y(1,Ke,4,1,"p",34)(2,Ze,4,1,"p",34)(3,qe,4,1,"p",34),o()),a&2){let t=d(4).ngIf,e=d();s(),l("ngIf",e.getPriceCategory(t.data.tonight.price)==="VERY_CHEAP"||e.getPriceCategory(t.data.tonight.price)==="CHEAP"),s(),l("ngIf",e.getPriceCategory(t.data.tonight.price)==="NORMAL"),s(),l("ngIf",e.getPriceCategory(t.data.tonight.price)==="EXPENSIVE"||e.getPriceCategory(t.data.tonight.price)==="VERY_EXPENSIVE")}}function Qe(a,n){if(a&1&&(r(0,"div",30)(1,"p",37),i(2,"T\xE4n\xE4 y\xF6n\xE4"),o(),r(3,"p",31),i(4),u(5,"date"),u(6,"date"),o(),r(7,"p",27),i(8,"Spot-hinta: "),r(9,"strong"),i(10),u(11,"number"),o(),i(12),o(),r(13,"p",28),i(14,"Pesun hinta: "),r(15,"strong"),i(16),u(17,"number"),o()(),y(18,$e,11,8,"p",32)(19,Je,4,3,"div",24),o()),a&2){let t=d(3).ngIf,e=d();s(4),E("",b(5,14,t.data.tonight.startTime,"HH:mm")," - ",b(6,17,t.data.tonight.endTime,"HH:mm"),""),s(5),v(e.getPriceCssClass(t.data.tonight.price)),s(),E("",e.getPriceEmoji(t.data.tonight.price)," ",b(11,20,t.data.tonight.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.tonight.price),")"),s(3),v(e.getPriceCssClass(t.data.tonight.price)),s(),p("",b(17,23,e.calculateWashCost(t.data.tonight),"1.2-2")," sentti\xE4"),s(2),l("ngIf",e.calculatePotentialSavings(t.data.tonight)),s(),l("ngIf",!e.calculatePotentialSavings(t.data.tonight))}}function ta(a,n){if(a&1&&(r(0,"p",33)(1,"strong"),i(2,"Arvioitu s\xE4\xE4st\xF6 vs. nyt: "),o(),r(3,"strong"),i(4),u(5,"number"),o(),i(6," ("),r(7,"strong"),i(8),u(9,"number"),o(),i(10,") "),o()),a&2){let t=n.ngIf;s(4),p("",b(5,2,t.savingsCents,"1.2-2")," sentti\xE4"),s(4),p("",b(9,5,t.savingsPercentage,"1.1-1"),"%")}}function ea(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Erinomainen aika: "),o(),i(3),o()),a&2){let t=d(6).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tomorrow.price)," ")}}function aa(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1} Normaali aika: "),o(),i(3),o()),a&2){let t=d(6).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tomorrow.price)," ")}}function na(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u26A0\uFE0F Paras saatavilla oleva:"),o(),i(3),o()),a&2){let t=d(6).ngIf,e=d();s(3),p(" S\xE4hk\xF6 on ",e.getPriceCategoryText(t.data.tomorrow.price),", harkitse odottamista ")}}function ia(a,n){if(a&1&&(r(0,"div"),y(1,ea,4,1,"p",34)(2,aa,4,1,"p",34)(3,na,4,1,"p",34),o()),a&2){let t=d(5).ngIf,e=d();s(),l("ngIf",e.getPriceCategory(t.data.tomorrow.price)==="VERY_CHEAP"||e.getPriceCategory(t.data.tomorrow.price)==="CHEAP"),s(),l("ngIf",e.getPriceCategory(t.data.tomorrow.price)==="NORMAL"),s(),l("ngIf",e.getPriceCategory(t.data.tomorrow.price)==="EXPENSIVE"||e.getPriceCategory(t.data.tomorrow.price)==="VERY_EXPENSIVE")}}function oa(a,n){if(a&1&&(r(0,"div",30)(1,"p",37),i(2,"Huomenna"),o(),r(3,"p",31),i(4),u(5,"date"),u(6,"date"),o(),r(7,"p",27),i(8,"Spot-hinta: "),r(9,"strong"),i(10),u(11,"number"),o(),i(12),o(),r(13,"p",28),i(14,"Pesun hinta: "),r(15,"strong"),i(16),u(17,"number"),o()(),y(18,ta,11,8,"p",32)(19,ia,4,3,"div",24),o()),a&2){let t=d(4).ngIf,e=d();s(4),E("",b(5,14,t.data.tomorrow.startTime,"HH:mm")," - ",b(6,17,t.data.tomorrow.endTime,"HH:mm"),""),s(5),v(e.getPriceCssClass(t.data.tomorrow.price)),s(),E("",e.getPriceEmoji(t.data.tomorrow.price)," ",b(11,20,t.data.tomorrow.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.tomorrow.price),")"),s(3),v(e.getPriceCssClass(t.data.tomorrow.price)),s(),p("",b(17,23,e.calculateWashCost(t.data.tomorrow),"1.2-2")," sentti\xE4"),s(2),l("ngIf",e.calculatePotentialSavings(t.data.tomorrow)),s(),l("ngIf",!e.calculatePotentialSavings(t.data.tomorrow))}}function ra(a,n){if(a&1&&y(0,oa,20,26,"div",38),a&2){let t=d(3).ngIf;l("ngIf",t.data.tomorrow)}}function sa(a,n){if(a&1&&(r(0,"div",23)(1,"h3"),i(2,"\u{1F7E2} Paras saatavilla oleva aika"),o(),y(3,Qe,20,26,"div",36)(4,ra,1,1,"ng-template",null,0,Xt),o()),a&2){let t=Yt(5),e=d(2).ngIf;s(3),l("ngIf",e.data.tonight)("ngIfElse",t)}}function ca(a,n){if(a&1&&(r(0,"p",44)(1,"strong"),i(2,"Arvioitu s\xE4\xE4st\xF6 vs. nyt: "),o(),r(3,"strong"),i(4),u(5,"number"),o(),i(6," ("),r(7,"strong"),i(8),u(9,"number"),o(),i(10,") "),o()),a&2){let t=n.ngIf;s(4),p("",b(5,2,t.savingsCents,"1.2-2")," sentti\xE4"),s(4),p("",b(9,5,t.savingsPercentage,"1.1-1"),"%")}}function da(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1}"),o(),i(3),o()),a&2){let t=d(4).ngIf,e=d();s(3),p(" Vaihtoehtoinen ",e.getPriceCategoryText(t.data.tonight.price)," aika ")}}function ma(a,n){if(a&1&&(r(0,"div",41)(1,"h5"),i(2,"... jos pyykin pesu y\xF6ll\xE4 kiinnostaa niin se voisi kannattaa"),o(),r(3,"div",42)(4,"p")(5,"strong"),i(6,"Aika: "),o(),i(7),u(8,"date"),u(9,"date"),o(),r(10,"p")(11,"strong"),i(12,"Spot-hinta: "),o(),r(13,"strong"),i(14),u(15,"number"),o(),i(16),o(),r(17,"p")(18,"strong"),i(19,"Pesun hinta: "),o(),r(20,"strong"),i(21),u(22,"number"),o()(),y(23,ca,11,8,"p",43)(24,da,4,1,"p",34),o()()),a&2){let t=d(3).ngIf,e=d();s(7),E(" ",b(8,14,t.data.tonight.startTime,"HH:mm")," - ",b(9,17,t.data.tonight.endTime,"HH:mm"),""),s(6),v(e.getPriceCssClass(t.data.tonight.price)),s(),E("",e.getPriceEmoji(t.data.tonight.price)," ",b(15,20,t.data.tonight.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.tonight.price),")"),s(4),v(e.getPriceCssClass(t.data.tonight.price)),s(),p("",b(22,23,e.calculateWashCost(t.data.tonight),"1.2-2")," sentti\xE4"),s(2),l("ngIf",e.calculatePotentialSavings(t.data.tonight)),s(),l("ngIf",!e.calculatePotentialSavings(t.data.tonight))}}function la(a,n){if(a&1&&(r(0,"p",44)(1,"strong"),i(2,"Arvioitu s\xE4\xE4st\xF6 vs. nyt: "),o(),r(3,"strong"),i(4),u(5,"number"),o(),i(6," ("),r(7,"strong"),i(8),u(9,"number"),o(),i(10,") "),o()),a&2){let t=n.ngIf;s(4),p("",b(5,2,t.savingsCents,"1.2-2")," sentti\xE4"),s(4),p("",b(9,5,t.savingsPercentage,"1.1-1"),"%")}}function pa(a,n){if(a&1&&(r(0,"p",35)(1,"strong"),i(2,"\u{1F4A1}"),o(),i(3),o()),a&2){let t=d(4).ngIf,e=d();s(3),p(" Vaihtoehtoinen ",e.getPriceCategoryText(t.data.tomorrow.price)," aika ")}}function ua(a,n){if(a&1&&(r(0,"div",41)(1,"h5"),i(2,"... jos huomiseen voit s\xE4\xE4st\xE4\xE4, niin se voisi kannattaa"),o(),r(3,"div",42)(4,"p")(5,"strong"),i(6,"Aika: "),o(),i(7),u(8,"date"),u(9,"date"),o(),r(10,"p")(11,"strong"),i(12,"Spot-hinta: "),o(),r(13,"strong"),i(14),u(15,"number"),o(),i(16),o(),r(17,"p")(18,"strong"),i(19,"Pesun hinta: "),o(),r(20,"strong"),i(21),u(22,"number"),o()(),y(23,la,11,8,"p",43)(24,pa,4,1,"p",34),o()()),a&2){let t=d(3).ngIf,e=d();s(7),E(" ",b(8,14,t.data.tomorrow.startTime,"HH:mm")," - ",b(9,17,t.data.tomorrow.endTime,"HH:mm"),""),s(6),v(e.getPriceCssClass(t.data.tomorrow.price)),s(),E("",e.getPriceEmoji(t.data.tomorrow.price)," ",b(15,20,t.data.tomorrow.price,"1.2-2")," c/kWh"),s(2),p(" (",e.getPriceCategoryText(t.data.tomorrow.price),")"),s(4),v(e.getPriceCssClass(t.data.tomorrow.price)),s(),p("",b(22,23,e.calculateWashCost(t.data.tomorrow),"1.2-2")," sentti\xE4"),s(2),l("ngIf",e.calculatePotentialSavings(t.data.tomorrow)),s(),l("ngIf",!e.calculatePotentialSavings(t.data.tomorrow))}}function ba(a,n){if(a&1&&(r(0,"div",39)(1,"h4"),i(2,"Vaihtoehtoiset ajat"),o(),y(3,ma,25,26,"div",40)(4,ua,25,26,"div",40),o()),a&2){let t=d(2).ngIf;s(3),l("ngIf",t.data.tonight&&t.data.today),s(),l("ngIf",t.data.tomorrow&&(t.data.today||!t.data.today&&t.data.tonight))}}function fa(a,n){a&1&&(r(0,"div",45)(1,"p")(2,"strong"),i(3,"Optimaalisia aikoja ei ole saatavilla"),o()(),r(4,"p"),i(5,"Kaikissa saatavilla olevissa aikav\xE4leiss\xE4 on samankaltainen hinnoittelu. Voit ajaa pesukoneen milloin vain sopii."),o()())}function va(a,n){if(a&1&&(r(0,"div",19),y(1,Xe,4,3,"div",20)(2,sa,6,2,"div",20)(3,ba,5,2,"div",21)(4,fa,6,0,"div",22),o()),a&2){let t=d().ngIf;s(),l("ngIf",t.data.today),s(),l("ngIf",!t.data.today&&(t.data.tonight||t.data.tomorrow)),s(),l("ngIf",t.data.tonight&&t.data.today||t.data.tomorrow&&(t.data.today||!t.data.today&&t.data.tonight)),s(),l("ngIf",!t.data.today&&!t.data.tonight&&!t.data.tomorrow)}}function ga(a,n){if(a&1){let t=Ct();r(0,"div",46)(1,"p"),i(2,"Napsauta alla olevaa painiketta saadaksesi AI-avusteiset suositukset optimaaliselle pyykinpesuajalle perustuen:"),o(),r(3,"ul")(4,"li"),i(5,"Suomen nykyiset s\xE4hk\xF6n spot-hinnat"),o(),r(6,"li"),i(7,"2 tunnin pesujakson kesto"),o(),r(8,"li"),i(9,"1,5 kWh energiankulutus"),o(),r(10,"li"),i(11,"Kustannusoptimointianalyysi ja s\xE4\xE4st\xF6laskurit"),o()(),r(12,"button",47),D("click",function(){_t(t);let c=d(2);return yt(c.getForecast())}),i(13," Hae parhaat pesuajat "),o()()}}function ha(a,n){if(a&1&&(r(0,"div",5),y(1,Ne,3,0,"div",6)(2,ze,8,1,"div",7)(3,va,5,4,"div",8)(4,ga,14,0,"div",9),r(5,"div",10)(6,"div",11)(7,"div",12)(8,"h4"),i(9,"\u{1F50D} MIKSI PIDEMPI OHJELMA EI KULUTA ENEMM\xC4N:"),o(),r(10,"ul",13)(11,"li")(12,"strong"),i(13,"L\xE4mmitys sy\xF6 s\xE4hk\xF6\xE4"),o(),i(14," - ei aika! Suurin kulutus tulee veden l\xE4mmitt\xE4misest\xE4"),o(),r(15,"li")(16,"strong"),i(17,"ECO-ohjelmat (2-3h)"),o(),i(18," k\xE4ytt\xE4v\xE4t matalampaa l\xE4mp\xF6tilaa = s\xE4\xE4st\xE4v\xE4t energiaa"),o(),r(19,"li")(20,"strong"),i(21,"Pumput ja rumpu"),o(),i(22," kuluttavat v\xE4h\xE4n (<10% kokonaiskulutuksesta)"),o(),r(23,"li")(24,"strong"),i(25,"Pidempi pesu"),o(),i(26," = parempi pesutulos matalammassa l\xE4mp\xF6tilassa"),o()()(),r(27,"div",12)(28,"h4"),i(29,"\u{1F4A1} ENERGIANS\xC4\xC4ST\xD6VINKIT:"),o(),r(30,"ul",14)(31,"li"),i(32,"\u2705 "),r(33,"strong"),i(34,"Valitse 30-40\xB0C"),o(),i(35," riitt\xE4\xE4 useimmiten (s\xE4\xE4st\xE4\xE4 50% energiasta)"),o(),r(36,"li"),i(37,"\u2705 "),r(38,"strong"),i(39,"K\xE4yt\xE4 ECO-ohjelmia"),o(),i(40," huolimatta pituudesta"),o(),r(41,"li"),i(42,"\u2705 "),r(43,"strong"),i(44,"T\xE4yt\xE4 kone t\xE4yteen"),o(),i(45," mutta \xE4l\xE4 ahtaa"),o(),r(46,"li"),i(47,"\u2705 "),r(48,"strong"),i(49,"Ohita esipesu"),o(),i(50," jos mahdollista"),o(),r(51,"li"),i(52,"\u2705 "),r(53,"strong"),i(54,"Uudet nestepesuaineet"),o(),i(55," toimivat kylm\xE4ss\xE4kin"),o()()()()()()),a&2){let t=n.ngIf;s(),l("ngIf",t.loading),s(),l("ngIf",t.error&&!t.loading),s(),l("ngIf",t.data&&!t.loading&&!t.error),s(),l("ngIf",!t.loading&&!t.data&&!t.error)}}var bt=class a{washingMachineService=f(B);trigger$=new At(void 0);ENERGY_CONSUMPTION_KWH=1.5;TARIFF_PRICE_CENTS_KWH=6.5;forecast$=this.trigger$.pipe(Wt(()=>this.washingMachineService.getForecast().pipe(zt(n=>({loading:!1,data:n,error:null})),X(n=>{console.error("[WashingMachineComponent] Error fetching forecast:",n);let t=n.userMessage||"Ennusteen lataaminen ep\xE4onnistui";return Bt({loading:!1,data:null,error:t})}),Vt({loading:!0,data:null,error:null}))));getForecast(){this.trigger$.next()}calculateSavings(n,t){let e=n.price*this.ENERGY_CONSUMPTION_KWH;if(t){let c=t*this.ENERGY_CONSUMPTION_KWH,m=c-e,g=m/c*100;return{costCents:e,savingsVsTodayCents:m>0?m:void 0,savingsVsTodayPercentage:g>0?g:void 0}}return{costCents:e}}calculateWashCost(n){return(n.price+this.TARIFF_PRICE_CENTS_KWH)*this.ENERGY_CONSUMPTION_KWH}calculatePotentialSavings(n){if(n.potentialSavings&&n.potentialSavingsPercentage)return{savingsCents:n.potentialSavings*this.ENERGY_CONSUMPTION_KWH,savingsPercentage:n.potentialSavingsPercentage};if(n.rank===1&&n.price<10){let t=n.price*1.5,e=(t-n.price)*this.ENERGY_CONSUMPTION_KWH,c=(t-n.price)/(t+this.TARIFF_PRICE_CENTS_KWH)*100;if(e>.5)return{savingsCents:e,savingsPercentage:c}}return null}isCurrentlyOptimalTime(n){if(!n.startTime||!n.endTime)return!1;let t=new Date,e=new Date(n.startTime),c=new Date(n.endTime);return t>=e&&t<=c}getPriceCategory(n){return n<2.5?"VERY_CHEAP":n<5?"CHEAP":n<10?"NORMAL":n<20?"EXPENSIVE":"VERY_EXPENSIVE"}getPriceCategoryText(n){switch(this.getPriceCategory(n)){case"VERY_CHEAP":return"eritt\xE4in halpa";case"CHEAP":return"halpa";case"NORMAL":return"normaali";case"EXPENSIVE":return"kallis";case"VERY_EXPENSIVE":return"eritt\xE4in kallis"}}shouldRecommendNow(n){let t=this.getPriceCategory(n.price);return this.isCurrentlyOptimalTime(n)&&(t==="VERY_CHEAP"||t==="CHEAP")}getPriceCssClass(n){switch(this.getPriceCategory(n)){case"VERY_CHEAP":return"price-very-cheap";case"CHEAP":return"price-cheap";case"NORMAL":return"price-normal";case"EXPENSIVE":return"price-expensive";case"VERY_EXPENSIVE":return"price-very-expensive"}}getPriceEmoji(n){switch(this.getPriceCategory(n)){case"VERY_CHEAP":return"\u{1F44D}";case"CHEAP":return"";case"NORMAL":return"";case"EXPENSIVE":return"";case"VERY_EXPENSIVE":return"\u{1F62D}"}}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=C({type:a,selectors:[["app-washing-machine"]],standalone:!1,decls:5,vars:5,consts:[["tomorrowFallback",""],["appCard",""],["appCardHeader","","title","on paras hetki pest\xE4 pyykki\xE4?","subtitle","Saa AI-avusteiset suositukset s\xE4hk\xF6n hinnan ja aikataulun perusteella","backButtonTestId","washing-machine-back-button","refreshButtonTestId","refresh-forecast-button",3,"refreshClicked","showBackButton","showRefreshButton"],["appCardContent",""],["class","washing-machine-content",4,"ngIf"],[1,"washing-machine-content"],["class","loading-container",4,"ngIf"],["appCardContentHighlighted","","class","error-container",4,"ngIf"],["class","forecast-container",4,"ngIf"],["class","initial-state",4,"ngIf"],[1,"tips-section"],[1,"tips-content"],[1,"tip-category"],[1,"tip-list"],[1,"tip-list","savings-tips"],[1,"loading-container"],["appCardContentHighlighted","",1,"error-container"],[1,"error-actions"],["type","button","data-test-id","retry-forecast-button",1,"retry-button",3,"click"],[1,"forecast-container"],["class","primary-recommendation","appCardContentHighlighted","",4,"ngIf"],["class","alternatives-section",4,"ngIf"],["appCardContentHighlighted","",4,"ngIf"],["appCardContentHighlighted","",1,"primary-recommendation"],[4,"ngIf"],[1,"current-optimal-time"],[1,"now-message"],[1,"price-info"],[1,"cost-info"],[1,"action-message"],[1,"primary-time"],[1,"time-display"],["class","savings-info",4,"ngIf"],[1,"savings-info"],["class","optimal-info",4,"ngIf"],[1,"optimal-info"],["class","primary-time",4,"ngIf","ngIfElse"],[1,"period-label"],["class","primary-time",4,"ngIf"],[1,"alternatives-section"],["class","time-slot alternative",4,"ngIf"],[1,"time-slot","alternative"],[1,"alternative-details"],["class","savings-comparison",4,"ngIf"],[1,"savings-comparison"],["appCardContentHighlighted",""],[1,"initial-state"],["type","button","data-test-id","get-forecast-button",1,"get-forecast-button",3,"click"]],template:function(t,e){t&1&&(r(0,"div",1)(1,"div",2),D("refreshClicked",function(){return e.getForecast()}),o(),r(2,"div",3),y(3,ha,56,4,"div",4),u(4,"async"),o()()),t&2&&(s(),l("showBackButton",!0)("showRefreshButton",!0),s(2),l("ngIf",Gt(4,3,e.forecast$)))},dependencies:[Zt,rt,lt,pt,ut,qt,Qt,Jt],styles:[".washing-machine-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:1rem 0}.washing-machine-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--spotify-text-light);margin-bottom:.5rem;font-size:1rem}.washing-machine-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--spotify-text-light);line-height:1.6;margin-bottom:1rem}.washing-machine-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.washing-machine-content[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--spotify-green);font-weight:500}.washing-machine-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem;flex-wrap:wrap}.washing-machine-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]{background:var(--spotify-green);color:var(--spotify-black);border:none;padding:.5rem 1rem;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease;font-size:.9rem}.washing-machine-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   .retry-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green-hover)}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]{margin-bottom:2rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--spotify-green);font-size:1.5rem;font-weight:700;margin-bottom:1rem;text-align:center}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]{text-align:center}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .period-label[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:.9rem;margin-bottom:.25rem;text-transform:uppercase;font-weight:500}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{color:var(--spotify-white);font-size:2rem;font-weight:700;font-family:Montserrat,sans-serif;margin-bottom:.5rem;line-height:1.2}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:1rem;margin-bottom:0}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]{margin-top:1.5rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--spotify-white);font-size:1.1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]{background:#ffffff05;border:1px solid rgba(255,255,255,.05);border-radius:8px;padding:1rem;margin-bottom:1rem;transition:background-color .2s ease}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]:hover{background:#ffffff0d}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:1rem;font-weight:600;margin-bottom:.75rem;text-transform:uppercase;font-size:.9rem;letter-spacing:.5px}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.9rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--spotify-white)}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   .savings-comparison[_ngcontent-%COMP%]{color:var(--spotify-green)}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   .savings-comparison[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--spotify-text-light);font-size:.85rem}.washing-machine-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]{text-align:center}.washing-machine-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-forecast-button[_ngcontent-%COMP%]{background:var(--spotify-green);color:var(--spotify-black);border:none;padding:1rem 2rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;margin-top:1.5rem;transition:all .2s ease}.washing-machine-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-forecast-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green-hover);transform:translateY(-1px)}.washing-machine-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.washing-machine-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]{background:transparent;color:var(--spotify-green);border:1px solid var(--spotify-green);padding:.5rem 1.5rem;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease}.washing-machine-content[_ngcontent-%COMP%]   .refresh-container[_ngcontent-%COMP%]   .refresh-button[_ngcontent-%COMP%]:hover{background:var(--spotify-green);color:var(--spotify-black)}@media (max-width: 768px){.washing-machine-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem}.washing-machine-content[_ngcontent-%COMP%]   .initial-state[_ngcontent-%COMP%]   .get-forecast-button[_ngcontent-%COMP%]{padding:.875rem 1.5rem;font-size:.9rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:1.5rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .primary-recommendation[_ngcontent-%COMP%]   .primary-time[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{font-size:.9rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]{padding:.75rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.8rem}.washing-machine-content[_ngcontent-%COMP%]   .forecast-container[_ngcontent-%COMP%]   .alternatives-section[_ngcontent-%COMP%]   .time-slot.alternative[_ngcontent-%COMP%]   .alternative-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}}.price-very-cheap[_ngcontent-%COMP%]{color:#0f0!important;font-weight:600}.price-cheap[_ngcontent-%COMP%]{color:var(--spotify-green)!important;font-weight:600}.price-normal[_ngcontent-%COMP%]{color:var(--spotify-white)!important;font-weight:500}.price-expensive[_ngcontent-%COMP%]{color:#ff6b6b!important;font-weight:600}.price-very-expensive[_ngcontent-%COMP%]{color:#f33!important;font-weight:700}"]})};var ft=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=O({type:a});static \u0275inj=k({imports:[Q,F]})};var _a=[{path:"",component:bt}],_e=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=O({type:a});static \u0275inj=k({providers:[B],imports:[Q,ft,ae.forChild(_a)]})};export{_e as WashingMachineModule};
