import{A as X,B as K,a as gt,b as yt,g as _t,q as xt,r as wt,s as B,t as st,u as Y,v as G,w as Z,x as kt,y as $,z as E}from"./chunk-MAT2GV62.js";import{Kb as A,Pa as vt,Qa as f,Ra as d,T as w,Ta as ht,U as k,W as S,Wa as u,Xa as D,Ya as p,Z as s,_a as ot,a as v,b as at,gb as _,ha as M,hb as j,ib as L,jb as nt,lb as x,ma as N,mb as T,na as C,nb as H,qa as b,rb as V,tb as it,ub as rt,va as R,wb as U}from"./chunk-GAMBWRGE.js";var l=function(o){return o[o.FADING_IN=0]="FADING_IN",o[o.VISIBLE=1]="VISIBLE",o[o.FADING_OUT=2]="FADING_OUT",o[o.HIDDEN=3]="HIDDEN",o}(l||{}),ct=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=l.HIDDEN;constructor(e,t,a,n=!1){this._renderer=e,this.element=t,this.config=a,this._animationForciblyDisabledThroughCss=n}fadeOut(){this._renderer.fadeOutRipple(this)}},Dt=G({passive:!0,capture:!0}),dt=class{_events=new Map;addHandler(e,t,a,n){let i=this._events.get(t);if(i){let r=i.get(a);r?r.add(n):i.set(a,new Set([n]))}else this._events.set(t,new Map([[a,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Dt)})}removeHandler(e,t,a){let n=this._events.get(e);if(!n)return;let i=n.get(t);i&&(i.delete(a),i.size===0&&n.delete(t),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Dt)))}_delegateEventHandler=e=>{let t=B(e);t&&this._events.get(e.type)?.forEach((a,n)=>{(n===t||n.contains(t))&&a.forEach(i=>i.handleEvent(e))})}},O={enterDuration:225,exitDuration:150},Ut=800,Et=G({passive:!0,capture:!0}),It=["mousedown","touchstart"],Mt=["mouseup","mouseleave","touchend","touchcancel"],Yt=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275cmp=u({type:o,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(a,n){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return o})(),W=class o{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new dt;constructor(e,t,a,n,i){this._target=e,this._ngZone=t,this._platform=n,n.isBrowser&&(this._containerElement=Z(a)),i&&i.get($).load(Yt)}fadeInRipple(e,t,a={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=v(v({},O),a.animation);a.centered&&(e=n.left+n.width/2,t=n.top+n.height/2);let r=a.radius||Gt(e,t,n),F=e-n.left,h=t-n.top,g=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${F-r}px`,c.style.top=`${h-r}px`,c.style.height=`${r*2}px`,c.style.width=`${r*2}px`,a.color!=null&&(c.style.backgroundColor=a.color),c.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(c);let bt=window.getComputedStyle(c),Vt=bt.transitionProperty,ut=bt.transitionDuration,tt=Vt==="none"||ut==="0s"||ut==="0s, 0s"||n.width===0&&n.height===0,y=new ct(this,c,a,tt);c.style.transform="scale3d(1, 1, 1)",y.state=l.FADING_IN,a.persistent||(this._mostRecentTransientRipple=y);let z=null;return!tt&&(g||i.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let pt=()=>{z&&(z.fallbackTimer=null),clearTimeout(ft),this._finishRippleTransition(y)},et=()=>this._destroyRipple(y),ft=setTimeout(et,g+100);c.addEventListener("transitionend",pt),c.addEventListener("transitioncancel",et),z={onTransitionEnd:pt,onTransitionCancel:et,fallbackTimer:ft}}),this._activeRipples.set(y,z),(tt||!g)&&this._finishRippleTransition(y),y}fadeOutRipple(e){if(e.state===l.FADING_OUT||e.state===l.HIDDEN)return;let t=e.element,a=v(v({},O),e.config.animation);t.style.transitionDuration=`${a.exitDuration}ms`,t.style.opacity="0",e.state=l.FADING_OUT,(e._animationForciblyDisabledThroughCss||!a.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Z(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,It.forEach(a=>{o._eventManager.addHandler(this._ngZone,a,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Mt.forEach(t=>{this._triggerElement.addEventListener(t,this,Et)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===l.FADING_IN?this._startFadeOutTransition(e):e.state===l.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:a}=e.config;e.state=l.VISIBLE,!a&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=l.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=xt(e),a=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Ut;!this._target.rippleDisabled&&!t&&!a&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!wt(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let a=0;a<t.length;a++)this.fadeInRipple(t[a].clientX,t[a].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===l.VISIBLE||e.config.terminateOnPointerUp&&e.state===l.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(It.forEach(t=>o._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Mt.forEach(t=>e.removeEventListener(t,this,Et)),this._pointerUpEventsRegistered=!1))}};function Gt(o,e,t){let a=Math.max(Math.abs(o-t.left),Math.abs(o-t.right)),n=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(a*a+n*n)}var Ct=new S("mat-ripple-global-options");var Zt={capture:!0},$t=["focus","mousedown","mouseenter","touchstart"],mt="mat-ripple-loader-uninitialized",lt="mat-ripple-loader-class-name",Rt="mat-ripple-loader-centered",q="mat-ripple-loader-disabled",Tt=(()=>{class o{_document=s(gt);_animationMode=s(R,{optional:!0});_globalRippleOptions=s(Ct,{optional:!0});_platform=s(Y);_ngZone=s(C);_injector=s(M);_eventCleanups;_hosts=new Map;constructor(){let t=s(vt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>$t.map(a=>st(t,this._document,a,this._onInteraction,Zt)))}ngOnDestroy(){let t=this._hosts.keys();for(let a of t)this.destroyRipple(a);this._eventCleanups.forEach(a=>a())}configureRipple(t,a){t.setAttribute(mt,this._globalRippleOptions?.namespace??""),(a.className||!t.hasAttribute(lt))&&t.setAttribute(lt,a.className||""),a.centered&&t.setAttribute(Rt,""),a.disabled&&t.setAttribute(q,"")}setDisabled(t,a){let n=this._hosts.get(t);n?(n.target.rippleDisabled=a,!a&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(t))):a?t.setAttribute(q,""):t.removeAttribute(q)}_onInteraction=t=>{let a=B(t);if(a instanceof HTMLElement){let n=a.closest(`[${mt}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let a=this._document.createElement("span");a.classList.add("mat-ripple",t.getAttribute(lt)),t.append(a);let n=this._animationMode==="NoopAnimations",i=this._globalRippleOptions,r=n?0:i?.animation?.enterDuration??O.enterDuration,F=n?0:i?.animation?.exitDuration??O.exitDuration,h={rippleDisabled:n||i?.disabled||t.hasAttribute(q),rippleConfig:{centered:t.hasAttribute(Rt),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:r,exitDuration:F}}},g=new W(h,this._ngZone,a,this._platform,this._injector),c=!h.rippleDisabled;c&&g.setupTriggerEvents(t),this._hosts.set(t,{target:h,renderer:g,hasSetUpEvents:c}),t.removeAttribute(mt)}destroyRipple(t){let a=this._hosts.get(t);a&&(a.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(a){return new(a||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var At=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275cmp=u({type:o,selectors:[["structural-styles"]],decls:0,vars:0,template:function(a,n){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return o})();var Kt=["mat-icon-button",""],Wt=["*"];var qt=new S("MAT_BUTTON_CONFIG");var Jt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Bt=(()=>{class o{_elementRef=s(b);_ngZone=s(C);_animationMode=s(R,{optional:!0});_focusMonitor=s(kt);_rippleLoader=s(Tt);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){s($).load(At);let t=s(qt,{optional:!0}),a=this._elementRef.nativeElement,n=a.classList;this.disabledInteractive=t?.disabledInteractive??!1,this.color=t?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:i,mdcClasses:r}of Jt)a.hasAttribute(i)&&n.add(...r)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",a){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,a):this._elementRef.nativeElement.focus(a)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(a){return new(a||o)};static \u0275dir=p({type:o,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",A],disabled:[2,"disabled","disabled",A],ariaDisabled:[2,"aria-disabled","ariaDisabled",A],disabledInteractive:[2,"disabledInteractive","disabledInteractive",A]}})}return o})();var P=(()=>{class o extends Bt{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=u({type:o,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(a,n){a&2&&(_("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),nt(n.color?"mat-"+n.color:""),L("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ot],attrs:Kt,ngContentSelectors:Wt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(a,n){a&1&&(it(),H(0,"span",0),rt(1),H(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return o})();var Ot=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=D({type:o});static \u0275inj=k({imports:[E,E]})}return o})();var J=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=D({type:o});static \u0275inj=k({imports:[E,Ot,E]})}return o})();var I=class o{constructor(e){this.location=e}testId="back-button";ariaLabel="Go back to previous page";goBack(){this.location.back()}static \u0275fac=function(t){return new(t||o)(d(yt))};static \u0275cmp=u({type:o,selectors:[["app-back-button"]],inputs:{testId:"testId",ariaLabel:"ariaLabel"},decls:3,vars:3,consts:[["mat-icon-button","",1,"back-button",3,"click","title"]],template:function(t,a){t&1&&(x(0,"button",0),V("click",function(){return a.goBack()}),x(1,"mat-icon"),U(2,"arrow_back"),T()()),t&2&&(j("title",a.ariaLabel),_("data-test-id",a.testId)("aria-label",a.ariaLabel))},dependencies:[J,P,K,X],styles:[".back-button[_ngcontent-%COMP%]{color:var(--spotify-green);transition:all .2s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#1db9541a;transform:scale(1.1)}.back-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}"]})};var Ft=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=D({type:o});static \u0275inj=k({imports:[_t,I]})};var sa={production:!0,apiUrl:"https://milloin-server.vercel.app"};var zt=class o{isCurrentlyOptimalTime(e,t){if(!e.startTime||!e.endTime)return!1;let a=t||new Date,n=new Date(e.startTime),i=new Date(e.endTime);return a>=n&&a<=i}getPriceCategoryText(e){switch(e){case"VERY_CHEAP":return"eritt\xE4in halpa";case"CHEAP":return"halpa";case"NORMAL":return"normaali";case"EXPENSIVE":return"kallis";case"VERY_EXPENSIVE":return"eritt\xE4in kallis";default:return"normaali"}}shouldRecommendNow(e,t){return this.isCurrentlyOptimalTime(e,t)&&(e.priceCategory==="VERY_CHEAP"||e.priceCategory==="CHEAP")}getPriceCssClass(e){switch(e){case"VERY_CHEAP":return"price-very-cheap";case"CHEAP":return"price-cheap";case"NORMAL":return"price-normal";case"EXPENSIVE":return"price-expensive";case"VERY_EXPENSIVE":return"price-very-expensive";default:return"price-normal"}}getPriceEmoji(e){switch(e){case"VERY_CHEAP":return"\u{1F44D}";case"CHEAP":return"";case"NORMAL":return"";case"EXPENSIVE":return"";case"VERY_EXPENSIVE":return"\u{1F62D}";default:return""}}static \u0275fac=function(t){return new(t||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})};var St=class o{calculateEstimatedTotalPrice(e,t){return!e||e.length===0?0:e.reduce((n,i)=>{let h=(i.price+t.exchangeTariffCentsKwh+t.marginTariffCentsKwh)*t.powerConsumptionKwh/4;return n+h},0)}calculatePotentialSavings(e,t){let a=t-e,n=t>0?a/t*100:0;return{potentialSavingsCents:a,potentialSavingsPercentage:n}}addEstimatedTotalPrice(e,t){let a=this.calculateEstimatedTotalPrice(e.pricePoints,t);return at(v({},e),{estimatedTotalPriceCents:a})}addEstimatedPriceWithSavings(e,t,a){let n=this.calculateEstimatedTotalPrice(e.pricePoints,t),i=this.calculateEstimatedTotalPrice(a.pricePoints,t),r=this.calculatePotentialSavings(n,i);return at(v({},e),{estimatedTotalPriceCents:n,potentialSavingsCents:r.potentialSavingsCents,potentialSavingsPercentage:r.potentialSavingsPercentage})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=w({token:o,factory:o.\u0275fac,providedIn:"root"})};var Nt=class o{constructor(e,t){this.el=e;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card")}static \u0275fac=function(t){return new(t||o)(d(b),d(f))};static \u0275dir=p({type:o,selectors:[["","appCard",""]]})};var Q=class o{testId="refresh-button";ariaLabel="Refresh data";refresh=new N;onRefresh(){this.refresh.emit()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=u({type:o,selectors:[["app-refresh-button"]],inputs:{testId:"testId",ariaLabel:"ariaLabel"},outputs:{refresh:"refresh"},decls:3,vars:3,consts:[["mat-icon-button","",1,"refresh-button",3,"click","title"]],template:function(t,a){t&1&&(x(0,"button",0),V("click",function(){return a.onRefresh()}),x(1,"mat-icon"),U(2,"refresh"),T()()),t&2&&(j("title",a.ariaLabel),_("data-test-id",a.testId)("aria-label",a.ariaLabel))},dependencies:[J,P,K,X],encapsulation:2})};var jt=class o{constructor(e,t,a,n){this.el=e;this.renderer=t;this.viewContainer=a;this.injector=n}title="";subtitle;showBackButton=!0;backButtonTestId="back-button";showRefreshButton=!1;refreshButtonTestId="refresh-button";refreshClicked=new N;backButtonRef;refreshButtonRef;ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-header"),this.createHeaderStructure()}createHeaderStructure(){this.el.nativeElement.innerHTML="";let e=this.renderer.createElement("div");this.renderer.addClass(e,"header-container");let t=this.renderer.createElement("div");if(this.renderer.addClass(t,"left-actions"),this.showBackButton){let i=this.renderer.createElement("div");this.renderer.addClass(i,"back-button-container"),this.backButtonRef=this.viewContainer.createComponent(I,{injector:this.injector}),this.backButtonRef.instance.testId=this.backButtonTestId,this.backButtonRef.instance.ariaLabel="Go back to previous page",this.renderer.appendChild(i,this.backButtonRef.location.nativeElement),this.renderer.appendChild(t,i)}this.renderer.appendChild(e,t);let a=this.renderer.createElement("div");if(this.renderer.addClass(a,"title-section"),this.title){let i=this.renderer.createElement("h1");this.renderer.addClass(i,"header-title");let r=this.renderer.createText(this.title);this.renderer.appendChild(i,r),this.renderer.appendChild(a,i)}if(this.subtitle){let i=this.renderer.createElement("p");this.renderer.addClass(i,"header-subtitle");let r=this.renderer.createText(this.subtitle);this.renderer.appendChild(i,r),this.renderer.appendChild(a,i)}this.renderer.appendChild(e,a);let n=this.renderer.createElement("div");if(this.renderer.addClass(n,"right-actions"),this.showRefreshButton){let i=this.renderer.createElement("div");this.renderer.addClass(i,"refresh-button-container"),this.refreshButtonRef=this.viewContainer.createComponent(Q,{injector:this.injector}),this.refreshButtonRef.instance.testId=this.refreshButtonTestId,this.refreshButtonRef.instance.ariaLabel="Refresh data",this.refreshButtonRef.instance.refresh.subscribe(()=>{this.refreshClicked.emit()}),this.renderer.appendChild(i,this.refreshButtonRef.location.nativeElement),this.renderer.appendChild(n,i)}this.renderer.appendChild(e,n),this.renderer.appendChild(this.el.nativeElement,e)}ngOnDestroy(){this.backButtonRef&&this.backButtonRef.destroy(),this.refreshButtonRef&&this.refreshButtonRef.destroy()}static \u0275fac=function(t){return new(t||o)(d(b),d(f),d(ht),d(M))};static \u0275dir=p({type:o,selectors:[["","appCardHeader",""]],inputs:{title:"title",subtitle:"subtitle",showBackButton:"showBackButton",backButtonTestId:"backButtonTestId",showRefreshButton:"showRefreshButton",refreshButtonTestId:"refreshButtonTestId"},outputs:{refreshClicked:"refreshClicked"}})};var Lt=class o{constructor(e,t){this.el=e;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-content")}static \u0275fac=function(t){return new(t||o)(d(b),d(f))};static \u0275dir=p({type:o,selectors:[["","appCardContent",""]]})};var Ht=class o{constructor(e,t){this.el=e;this.renderer=t}ngOnInit(){this.renderer.addClass(this.el.nativeElement,"app-card-content-highlighted")}static \u0275fac=function(t){return new(t||o)(d(b),d(f))};static \u0275dir=p({type:o,selectors:[["","appCardContentHighlighted",""]]})};export{sa as a,zt as b,St as c,Nt as d,jt as e,Lt as f,Ht as g,Ft as h};
